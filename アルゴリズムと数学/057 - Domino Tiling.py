mod = int(1e9+7)

def multiply(A,B):
	n = len(A)
	C = [[0]*n for _ in range(n)]
	for i in range(n):
		for j in range(n):
			for k in range(n):
				C[i][j] = (C[i][j]+A[i][k]*B[k][j])%mod
	return C


K,N = map(int,input().split())

if K==2:
    mat = [[0,0,0,1],[0,0,0,0],[0,0,0,0],[1,0,0,1]]
if K==3:
    mat = [
    [0,0,0,0,0,0,0,1],
    [0,0,0,0,0,0,1,0],
    [0,0,0,0,0,1,0,0],
    [0,0,0,0,1,0,0,1],
    [0,0,0,1,0,0,0,0],
    [0,0,1,0,0,0,0,0],
    [0,1,0,0,0,0,0,1],
    [1,0,0,1,0,0,1,0]
    ]
if K==4:
    mat = [
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1],
        [0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
        [0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0],
        [0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0],
        [0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1],
        [0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],
        [0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0],
        [1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1],
    ]

ans = [[0]*(2**K) for _ in range(2**K)]
for i in range(2**K):
    ans[i][i] = 1

for i in range(60):
    if N&(1<<i):
        ans = multiply(mat,ans)
    mat = multiply(mat,mat)

print(ans[-1][-1])